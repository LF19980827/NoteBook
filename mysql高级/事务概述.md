------

[TOC]

------

# 1、事务的ACID

- 原子性(Atomicity) :事务是一个原子操作单元，其对数据的修改，要么全都执行，要么全都不执行。
- 一致性(Consistent) :在事务开始和完成时，数据都必须保持一 致状态。这意味着所有相关的数据规则都必须应用于事务的修改以保持数据的完整性;事务结束时，所有的内部数据结构(如B树索引或双向链表)也都必须是正确的。
- 隔离性(Isolation) :数据库系统提供一定的隔离机制，保证事务在不受外部并发操作影响的“独立”环境执行。这意味着事务处里过程中的中间状态对外部是不可见的，反之亦然。
- 持久性(Durable) :事务完成之后，它对于数据的修改是永久性的，即使出现系统故障也能够保持。



# 2、事务的隔离级别

![ ](G:\个人数据\笔记\NoteBook\mysql高级\img\3.1.png)



# 3、并发事务带来的问题

- 更新丢失(Lost Update)：（版本覆盖）当两个或多个事务选择同一行，然后基于最初选定的值更新该行时，由于每个事务都不知道其他事务的存在，就会发生丢失更新。最后的更新覆盖了由其他事务所做的更新。
- 脏读(Dirty Reads)：事务A读取到了事务B已修改但尚未提交的的数据，还在这个数据基础上做了操作。此时，如果B事务回滚，A读取的数据无效，不符合一致性要求。
- 不可重复读(Non-Repeatable Reads)：事务A读取到了事务B已经提交的修改数据，不符合隔离性
- 幻读(Phantom Reads)：事务A读取到了事务B体提交的新增数据，不符合隔离性。

